<!doctype html>
<html lang="zh">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>给 Ketiny 的小网站</title>

<style>
:root{
  --bg1:#070a12;
  --bg2:#0b0f1d;
  --bg3:#11162e;
  --card:rgba(255,255,255,.07);
  --line:rgba(255,255,255,.14);
  --text:#eaf0ff;
  --muted:rgba(234,240,255,.72);
  --pink:#ff6fb1;
  --purple:#b78cff;
  --yellow:#FFE600;
  --today-bg:rgba(255,230,0,.22);
  --r:18px;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:"Microsoft YaHei",Arial,sans-serif;
  color:var(--text);
  background:
    radial-gradient(1000px 500px at 10% -10%, rgba(116,178,255,.25), transparent 60%),
    radial-gradient(900px 500px at 90% 10%, rgba(255,111,177,.18), transparent 60%),
    linear-gradient(180deg,var(--bg1),var(--bg2) 50%,var(--bg3));
  min-height:100vh;
}

.container{max-width:1200px;margin:auto;padding:16px}

header{
  position:sticky;top:0;z-index:9;
  backdrop-filter:blur(10px);
  background:rgba(7,10,18,.7);
  border-bottom:1px solid var(--line);
}
.nav{display:flex;align-items:center;gap:10px;font-weight:900}
.logo{
  width:34px;height:34px;border-radius:14px;
  background:linear-gradient(135deg,#74b2ff,#b78cff);
  position:relative;
}
.logo::after{
  content:"";
  position:absolute;inset:0;
  background:
    radial-gradient(circle at 65% 40%,#ff6fb1 0 18%,transparent 19%),
    radial-gradient(circle at 40% 40%,#ff6fb1 0 18%,transparent 19%);
}

.tabs{
  display:flex;
  gap:10px;
  justify-content:center;
  padding:10px 0;
}
.tab{
  padding:10px 18px;
  border-radius:999px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.06);
  cursor:pointer;
}
.tab.active{
  background:linear-gradient(135deg,var(--pink),var(--purple));
  color:#111;
  font-weight:900;
}

.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--r);
  padding:18px;
  margin-top:16px;
}

.section-title{font-size:22px;font-weight:900;margin-bottom:10px}

textarea{
  width:100%;min-height:140px;
  background:rgba(0,0,0,.25);
  border:1px solid var(--line);
  border-radius:14px;
  padding:14px;
  color:var(--text);
}

.btn{
  margin-top:12px;
  padding:10px 18px;
  border-radius:14px;
  border:none;
  background:linear-gradient(135deg,var(--pink),var(--purple));
  font-weight:900;
  cursor:pointer;
  color:#111;
}

/* ===== 班表 ===== */
.schedule-head{
  display:flex;
  justify-content:space-between;
  align-items:stretch;
  gap:14px;
  flex-wrap:wrap;
}

.worktime{
  font-size:14px;
  line-height:1.9;
  color:var(--muted);
}
.worktime b{color:#fff}

.today-btn{
  margin-top:10px;
  padding:8px 16px;
  border-radius:999px;
  border:none;
  background:linear-gradient(135deg,var(--pink),var(--purple));
  font-weight:900;
  cursor:pointer;
  color:#111;
}

.monthbar{
  display:flex;
  justify-content:flex-end;
}
.monthmenu{position:relative}
.monthbtn{
  padding:10px 16px;
  border-radius:14px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.06);
  color:#fff;
  font-weight:900;
  cursor:pointer;
}
.monthlist{
  position:absolute;
  right:0;
  top:52px;
  display:none;
  background:rgba(7,10,18,.95);
  border:1px solid var(--line);
  border-radius:14px;
  padding:10px;
  grid-template-columns:repeat(3,1fr);
  gap:8px;
}
.monthlist.open{display:grid}
.mitem{
  padding:10px 0;
  border-radius:10px;
  background:rgba(255,255,255,.06);
  border:1px solid var(--line);
  color:#fff;
  font-weight:900;
  cursor:pointer;
}
.mitem.active{
  background:linear-gradient(135deg,var(--pink),var(--purple));
  color:#111;
}

.weekbar{
  margin-top:16px;
  padding:10px;
  border-radius:14px;
  border:1px solid var(--line);
}
.weekday{
  display:grid;
  grid-template-columns:repeat(7,1fr);
  text-align:center;
  color:var(--muted);
}

.calendar{
  margin-top:14px;
  display:grid;
  grid-template-columns:repeat(7,1fr);
  gap:14px 8px;
}

.cell{
  text-align:center;
  padding:6px 0;
  border-radius:12px;
}
.cell.empty{visibility:hidden}
.cell.today{background:var(--today-bg)}

.dnum{
  font-size:16px;
  font-weight:900;
}
.dshift{
  margin-top:6px;
  font-size:13px;
  font-weight:900;
}
.dshift.n{color:var(--yellow)}

footer{
  text-align:center;
  margin:30px 0;
  color:var(--muted);
  font-size:12px;
}
</style>
</head>

<body>
<header>
  <div class="container nav">
    <div class="logo"></div>
    给 Ketiny 的小网站
  </div>
  <div class="tabs">
    <div class="tab" data-p="wish">心愿单</div>
    <div class="tab" data-p="bin">坏情绪回收站</div>
    <div class="tab active" data-p="schedule">班表</div>
  </div>
</header>

<main class="container">

<section id="wish" style="display:none">
  <div class="card">
    <div class="section-title">心愿单</div>
    <textarea id="wishText"></textarea>
    <button class="btn" onclick="sendWish()">传递心愿</button>
  </div>
</section>

<section id="bin" style="display:none">
  <div class="card">
    <div class="section-title">坏情绪回收站</div>
    <textarea id="binText"></textarea>
    <button class="btn" onclick="sendBin()">消灭</button>
  </div>
</section>

<section id="schedule">
  <div class="card">
    <div class="schedule-head">
      <div>
        <div class="section-title">班表</div>
        <div class="worktime">
          早班：<b>07:00-15:00</b><br>
          中班：<b>15:00-23:00</b><br>
          晚班：<b>23:00-07:00</b>（前一天23:00开始）<br>
          N：<b>休息</b>
        </div>
        <button class="today-btn" id="goToday">今日</button>
      </div>

      <div class="monthbar">
        <div class="monthmenu">
          <button class="monthbtn" id="monthBtn">
            <span id="monthLabel">2026年 1月</span> ▾
          </button>
          <div class="monthlist" id="monthList"></div>
        </div>
      </div>
    </div>

    <div class="weekbar">
      <div class="weekday">
        <div>日</div><div>一</div><div>二</div><div>三</div><div>四</div><div>五</div><div>六</div>
      </div>
    </div>

    <div class="calendar" id="calendar"></div>
  </div>
</section>

<footer>ketiny越来越好</footer>
</main>

<script>
const ENDPOINT="https://formspree.io/f/xjgkljor";
const $=id=>document.getElementById(id);

async function send(type,text,msg){
  if(!text.trim())return;
  await fetch(ENDPOINT,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({type,content:text})
  });
  alert(msg);
}
function sendWish(){send("心愿",$("wishText").value,"心愿已传递")}
function sendBin(){send("坏情绪",$("binText").value,"坏情绪已消灭")}

const rotate=["中班","晚班","早班"];
function shiftOf(d){
  const base=new Date(2026,0,6);
  const diff=Math.floor((d-base)/86400000);
  if(d<=new Date(2026,0,5))return"早班";
  const cycle=Math.floor(diff/8);
  const pos=diff%8;
  if(pos<2)return"N";
  return rotate[cycle%3];
}

let y=2026,m=0;
function render(){
  $("monthLabel").textContent=`2026年 ${m+1}月`;
  const cal=$("calendar");
  cal.innerHTML="";
  const first=new Date(2026,m,1).getDay();
  const days=new Date(2026,m+1,0).getDate();
  for(let i=0;i<first;i++)cal.appendChild(Object.assign(document.createElement("div"),{className:"cell empty"}));
  const today=new Date();
  for(let d=1;d<=days;d++){
    const date=new Date(2026,m,d);
    const c=document.createElement("div");
    c.className="cell";
    if(today.getFullYear()==2026&&today.getMonth()==m&&today.getDate()==d)c.classList.add("today");
    const s=shiftOf(date);
    c.innerHTML=`<div class="dnum">${d}</div><div class="dshift ${s=="N"?"n":""}">${s}</div>`;
    cal.appendChild(c);
  }
}
$("goToday").onclick=()=>{
  const t=new Date();
  m=t.getMonth();
  render();
  const el=document.querySelector(".cell.today");
  if(el){
    el.classList.add("flash");
    setTimeout(()=>el.classList.remove("flash"),2000);
  }
};
$("monthBtn").onclick=()=>$("monthList").classList.toggle("open");
for(let i=0;i<12;i++){
  const b=document.createElement("button");
  b.className="mitem";
  b.textContent=`${i+1}月`;
  b.onclick=()=>{m=i;render();$("monthList").classList.remove("open")};
  $("monthList").appendChild(b);
}
document.querySelectorAll(".tab").forEach(t=>{
  t.onclick=()=>{
    ["wish","bin","schedule"].forEach(id=>$(id).style.display="none");
    document.querySelectorAll(".tab").forEach(x=>x.classList.remove("active"));
    t.classList.add("active");
    $(t.dataset.p).style.display="block";
  };
});
render();
</script>
</body>
</html>

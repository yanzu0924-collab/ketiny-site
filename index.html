<!doctype html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ketiny 大人来啦-`♡´-</title>

  <style>
    :root{
      --bg1:#070a12;
      --bg2:#0b0f1d;
      --bg3:#12183a;
      --card: rgba(255,255,255,.06);
      --card2: rgba(255,255,255,.08);
      --line: rgba(255,255,255,.12);
      --text: #eaf0ff;
      --muted: rgba(234,240,255,.72);
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --r: 18px;
      --accent: #d58bff;
      --accent2:#ff7ac8;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      color:var(--text);
      font-family: system-ui, -apple-system, "Segoe UI", Arial, "PingFang SC","Microsoft YaHei", sans-serif;
      background:
        radial-gradient(1200px 600px at 15% 10%, rgba(213,139,255,.18), transparent 60%),
        radial-gradient(900px 500px at 80% 20%, rgba(255,122,200,.12), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2) 45%, var(--bg1));
      min-height:100vh;
    }
    a{ color:inherit; text-decoration:none; }
    .container{ width:min(1120px, 92vw); margin:0 auto; }

    /* top bar */
    header{
      position:sticky; top:0; z-index:10;
      backdrop-filter: blur(14px);
      background: linear-gradient(180deg, rgba(7,10,18,.75), rgba(7,10,18,.35));
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 0;
    }
    .brand{
      display:flex; align-items:center; gap:12px;
      font-weight:900; letter-spacing:.2px;
    }
    .logoDot{
      width:30px; height:30px; border-radius:12px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      box-shadow: 0 10px 30px rgba(213,139,255,.25);
      position:relative;
    }
    .logoDot:after{
      content:"";
      position:absolute; inset:9px 7px 9px 7px;
      border-radius:999px;
      background: rgba(7,10,18,.55);
    }
    nav{ display:flex; gap:10px; }
    .navItem{
      padding:9px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color: var(--muted);
    }
    .navItem:hover{ background: rgba(255,255,255,.07); color: var(--text); }

    /* layout */
    main{ padding:18px 0 50px; }
    .grid{
      display:grid;
      grid-template-columns: 1.25fr .85fr;
      gap:16px;
      margin-top:16px;
    }
    @media (max-width: 980px){
      .grid{ grid-template-columns: 1fr; }
    }

    .card{
      border-radius: var(--r);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow);
    }
    .pad{ padding:18px; }
    .bigTitle{
      font-size:32px; line-height:1.15; margin:0 0 10px;
      font-weight:1000;
      letter-spacing:.3px;
    }
    .lead{ margin:0 0 14px; color: var(--muted); font-size:15px; }
    .hintBox{
      margin-top:12px;
      padding:12px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.10);
    }
    .hintLabel{ font-weight:800; margin-bottom:6px; }
    .hintText{
      min-height:22px;
      color: var(--muted);
      outline:none;
    }

    /* right stack cards */
    .stack{ display:flex; flex-direction:column; gap:12px; }
    .titleLine{ font-weight:900; color: var(--muted); margin-bottom:8px; }
    .bigNum{ font-size:26px; font-weight:1000; letter-spacing:.2px; }

    .btnRow{ display:flex; gap:10px; margin-top:12px; flex-wrap:wrap; }
    .btn{
      padding:10px 14px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      color: var(--text);
      cursor:pointer;
      font-weight:800;
    }
    .btn.primary{
      background: linear-gradient(135deg, rgba(213,139,255,.95), rgba(255,122,200,.95));
      border: none;
      color: #0b0f1d;
    }
    .btn:hover{ transform: translateY(-1px); }

    /* sections */
    .sectionTitle{
      margin:26px 0 10px;
      font-weight:1000;
      font-size:22px;
      letter-spacing:.2px;
    }

    /* schedule fold + horizontal month */
    details.fold{ margin-top:8px; }
    summary.foldTitle{
      list-style:none;
      cursor:pointer;
      user-select:none;
      font-size:22px;
      font-weight:1000;
      margin:0 0 10px;
    }
    summary.foldTitle::-webkit-details-marker{ display:none; }
    .monthRow{
      display:flex;
      gap:10px;
      overflow-x:auto;
      padding:12px;
      border-radius: var(--r);
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
    }
    .dayChip{
      min-width: 128px;
      padding: 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
    }
    .dayChip .d{ font-weight:1000; }
    .dayChip .s{ margin-top:6px; color: var(--muted); font-weight:800; }
    .dayChip .tag{
      display:inline-block;
      margin-top:8px;
      padding:4px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(213,139,255,.10);
      color: var(--muted);
      font-size:12px;
      font-weight:800;
    }

    /* blindbox */
    .twoCol{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:14px;
    }
    @media (max-width: 980px){
      .twoCol{ grid-template-columns: 1fr; }
    }
    .tabooRow{
      margin: 8px 0 14px;
      color: var(--muted);
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
    }
    #tabooInput{
      width: min(360px, 100%);
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      color: var(--text);
      outline:none;
    }
    .resultBox{
      margin-top:12px;
      padding:12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
    }
    .resultName{ font-weight:1000; margin-bottom:6px; }
    .resultDesc{ color: var(--muted); margin-bottom:8px; }
    .resultMood{ font-weight:900; }

    footer{
      margin-top:36px;
      padding:18px 0 28px;
      color: rgba(234,240,255,.65);
      border-top: 1px solid rgba(255,255,255,.08);
    }
  </style>
</head>

<body>
<header>
  <div class="container topbar">
    <div class="brand">
      <div class="logoDot"></div>
      <div>Ketiny 大人来啦-`♡´-</div>
    </div>
    <nav>
      <a class="navItem" href="#wish">心愿单</a>
      <a class="navItem" href="#trash">垃圾桶</a>
      <a class="navItem" href="#blindbox">盲盒</a>
    </nav>
  </div>
</header>

<main class="container">

  <!-- 顶部两栏 -->
  <div class="grid" id="top">
    <!-- 左：励志语 + 温馨提示 -->
    <div class="card pad" id="heroLeft">
      <h2 class="bigTitle">2026一起加油</h2>
      <p class="lead">给未来的每一天一点温柔的坚持，慢慢走，也终会走到想去的地方。</p>

      <div class="hintBox">
        <div class="hintLabel">温馨提示：</div>
        <div id="warmHint" class="hintText" contenteditable="true">（点这里后你自己填写提示内容）</div>
      </div>

      <div class="btnRow">
        <a class="btn primary" href="#schedule">看班表</a>
        <a class="btn" href="#blindbox">开盲盒</a>
      </div>
    </div>

    <!-- 右：今天 + 生日倒计时 -->
    <div class="stack">
      <div class="card pad" id="todayCard">
        <div id="todayDateText" class="titleLine">今天：-- ♡</div>
        <div id="todayShiftText" class="bigNum">班次：-- ♡ྀི</div>
        <div class="btnRow">
          <a class="btn primary" href="#schedule">查看当月班表</a>
        </div>
      </div>

      <div class="card pad" id="bdayCard">
        <div class="titleLine">Ketiny 生日倒计时：</div>
        <div class="bigNum" id="bdayLeft">-</div>
      </div>
    </div>
  </div>

  <!-- 心愿单（占位） -->
  <div class="sectionTitle" id="wish">心愿单</div>
  <div class="card pad">
    <div class="lead">这里以后你自己写想做的事、想去的地方、想买的小东西……♡</div>
  </div>

  <!-- 垃圾桶（占位） -->
  <div class="sectionTitle" id="trash">垃圾桶</div>
  <div class="card pad">
    <div class="lead">这里以后你可以放“不开心就丢掉”的文字、碎碎念……♡</div>
  </div>

  <!-- 班表 -->
  <div class="sectionTitle" id="schedule">班表</div>
  <details class="fold card pad" open>
    <summary class="foldTitle">班表（点我折叠/展开）</summary>
    <div class="monthRow" id="monthRow"></div>
  </details>

  <!-- 盲盒 -->
  <div class="sectionTitle" id="blindbox">盲盒</div>
  <div class="tabooRow">
    今日忌口：
    <input id="tabooInput" placeholder="例如：辣、香菜、椰子…" />
    <span>（会自动屏蔽相关食物/奶茶）</span>
  </div>

  <div class="twoCol">
    <!-- 食物盲盒 -->
    <div class="card pad">
      <div class="bigNum" style="font-size:20px;">食物盲盒</div>
      <div class="btnRow">
        <button class="btn primary" id="foodBtn">随机一个菜系/食物</button>
      </div>
      <div class="resultBox">
        <div class="resultName" id="foodName">结果：-</div>
        <div class="resultDesc" id="foodDesc"></div>
        <div class="resultMood" id="foodMood"></div>
      </div>
    </div>

    <!-- 奶茶盲盒 -->
    <div class="card pad">
      <div class="bigNum" style="font-size:20px;">奶茶盲盒</div>
      <div class="btnRow">
        <button class="btn primary" id="teaBtn">随机一杯</button>
      </div>
      <div class="resultBox">
        <div class="resultName" id="teaName">结果：-</div>
        <div class="resultDesc" id="teaDesc"></div>
        <div class="resultMood" id="teaMood"></div>
      </div>
    </div>
  </div>

  <footer>
    @Ketiny 越来越好
  </footer>
</main>

<script>
  /* ========= 1) 今天显示（更温柔） ========= */
  function fmtCNWeek(d){
    const w = ["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];
    return w[d.getDay()];
  }
  function pad2(n){ return String(n).padStart(2,"0"); }
  function renderTodayPretty(shiftText){
    const d = new Date();
    const mm = pad2(d.getMonth()+1);
    const dd = pad2(d.getDate());
    const week = fmtCNWeek(d);
    const elDate = document.querySelector("#todayDateText");
    const elShift = document.querySelector("#todayShiftText");
    if(elDate) elDate.textContent = `今天：${mm}月${dd}日 ${week} ♡`;
    if(elShift) elShift.textContent = `班次：${shiftText || "-"} ♡ྀི`;
  }

  /* ========= 2) 生日倒计时（每年8月8号自动算） ========= */
  function daysUntilAug8(){
    const now = new Date();
    const y = now.getFullYear();
    const targetThisYear = new Date(y, 7, 8); // 7=8月
    let target = targetThisYear;
    const today0 = new Date(y, now.getMonth(), now.getDate());
    const t0 = new Date(targetThisYear.getFullYear(), targetThisYear.getMonth(), targetThisYear.getDate());
    if(today0 > t0) target = new Date(y+1, 7, 8);

    const ms = (new Date(target.getFullYear(), target.getMonth(), target.getDate())) - today0;
    return Math.ceil(ms / (1000*60*60*24));
  }
  function renderBday(){
    const el = document.querySelector("#bdayLeft");
    if(!el) return;
    el.textContent = `${daysUntilAug8()}天 ♡`;
  }

  /* ========= 3) 班表（横向滚动 + 可折叠） =========
     这里先给你一个示例月数据，你后面把 monthData 改成你自己的就行。
  */
  const monthData = [
    {date:"01-01", shift:"早班"},
    {date:"01-02", shift:"早班"},
    {date:"01-03", shift:"早班"},
    {date:"01-04", shift:"早班"},
    {date:"01-05", shift:"早班"},
    {date:"01-06", shift:"休息"},
    {date:"01-07", shift:"休息"},
    {date:"01-08", shift:"中班"},
    {date:"01-09", shift:"中班"},
    {date:"01-10", shift:"中班"},
    {date:"01-11", shift:"中班"},
    {date:"01-12", shift:"中班"},
    {date:"01-13", shift:"休息"},
    {date:"01-14", shift:"休息"},
    {date:"01-15", shift:"晚班"},
    {date:"01-16", shift:"晚班"},
    {date:"01-17", shift:"晚班"},
    {date:"01-18", shift:"晚班"},
    {date:"01-19", shift:"晚班"},
    {date:"01-20", shift:"休息"},
    {date:"01-21", shift:"休息"},
    {date:"01-22", shift:"早班"},
    {date:"01-23", shift:"早班"},
    {date:"01-24", shift:"早班"},
    {date:"01-25", shift:"早班"},
    {date:"01-26", shift:"早班"},
    {date:"01-27", shift:"早班"},
    {date:"01-28", shift:"早班"},
    {date:"01-29", shift:"早班"},
    {date:"01-30", shift:"休息"},
    {date:"01-31", shift:"休息"},
  ];

  function renderMonthRow(days){
    const row = document.querySelector("#monthRow");
    if(!row) return;
    row.innerHTML = "";
    days.forEach(it=>{
      const div = document.createElement("div");
      div.className = "dayChip";
      const tag = it.shift === "休息" ? `<div class="tag">休息</div>` : "";
      div.innerHTML = `
        <div class="d">${it.date}</div>
        <div class="s">${it.shift || "-"}</div>
        ${tag}
      `;
      row.appendChild(div);
    });
  }

  /* ========= 4) 盲盒：禁忌 + 随机祝福不重复风格 ========= */
  // 你的硬性禁忌：芒果 / 豆制品 / 饺子 / 不要太酸
  const hardBan = ["芒果","豆","豆腐","豆浆","豆制品","饺子","酸","柠檬","青柠","醋","酸奶"];

  function getTabooWords(){
    const v = (document.querySelector("#tabooInput")?.value || "").trim();
    if(!v) return [];
    return v.split(/[\s,，、]+/).map(x=>x.trim()).filter(Boolean);
  }

  function allowedText(text){
    const taboos = hardBan.concat(getTabooWords());
    return !taboos.some(w => w && String(text).includes(w));
  }

  const niceWords = [
    "今天也要开开心心哦 ♡",
    "慢慢来，但一直在变好 ♡ྀི",
    "别急，好的都在路上 ♡",
    "吃饱饱，心也暖暖 ♡",
    "愿你今天轻松一点点 ♡",
    "今天也值得被温柔对待 ♡"
  ];
  function pickNice(){
    return niceWords[Math.floor(Math.random()*niceWords.length)];
  }

  // 食物库（不放芒果/豆制品/饺子/过酸）
  const foodList = [
    { name:"地三鲜", desc:"茄子、土豆、青椒的经典组合，香香糯糯超下饭。" },
    { name:"红烧肉", desc:"浓郁酱香、软糯入味，配一碗热饭刚刚好。" },
    { name:"番茄炒蛋", desc:"家常但永远不无聊，酸甜适中、温柔又踏实。" },
    { name:"宫保鸡丁", desc:"微香微辣更开胃，颗粒分明，越吃越有精神。" },
    { name:"蒜蓉西兰花", desc:"清爽解腻，脆脆绿绿的，一口就很安心。" },
    { name:"可乐鸡翅", desc:"甜咸平衡，酱汁裹满鸡翅，幸福感很强。" },
    { name:"鱼香肉丝", desc:"香气很足，口感丰富，配饭一绝。" },
    { name:"咖喱鸡", desc:"暖暖的香气扑鼻，吃完心情也跟着亮起来。" },
    { name:"葱爆牛肉", desc:"香气直接拉满，牛肉嫩一点就会很好吃。" },
    { name:"麻婆豆腐(禁用示例)", desc:"包含豆腐，会被自动屏蔽。" } // 会被过滤
  ];

  function pickFood(){
    const pool = foodList.filter(x => allowedText(x.name) && allowedText(x.desc));
    if(pool.length === 0) return null;
    return pool[Math.floor(Math.random()*pool.length)];
  }

  // 奶茶库（必须带品牌；不放芒果/豆制品/过酸）
  const teaList = [
    { brand:"喜茶", name:"多肉葡萄" },
    { brand:"一点点", name:"四季奶青" },
    { brand:"奈雪的茶", name:"芝士莓莓" },
    { brand:"COCO都可", name:"珍珠奶茶" },
    { brand:"茶百道", name:"芋泥波波奶茶" },
    { brand:"沪上阿姨", name:"厚芋泥奶茶" },
    { brand:"古茗", name:"布蕾脆脆奶茶" },
    { brand:"蜜雪冰城", name:"珍珠奶茶" }
  ];

  function pickTea(){
    const pool = teaList
      .map(x => `${x.brand}｜${x.name}`)
      .filter(allowedText);
    if(pool.length === 0) return null;
    return pool[Math.floor(Math.random()*pool.length)];
  }

  // 绑定按钮
  document.getElementById("foodBtn").addEventListener("click", ()=>{
    const it = pickFood();
    document.getElementById("foodName").textContent = it ? `结果：${it.name}` : "结果：-（忌口太多啦）";
    document.getElementById("foodDesc").textContent = it ? it.desc : "";
    document.getElementById("foodMood").textContent = it ? pickNice() : "";
  });

  document.getElementById("teaBtn").addEventListener("click", ()=>{
    const it = pickTea();
    document.getElementById("teaName").textContent = it ? `结果：${it}` : "结果：-（忌口太多啦）";
    document.getElementById("teaDesc").textContent = it ? "选一杯顺口的，今天也要把自己照顾好 ♡" : "";
    document.getElementById("teaMood").textContent = it ? pickNice() : "";
  });

  // 页面初始化
  window.addEventListener("load", ()=>{
    renderMonthRow(monthData);

    // 今天班次：示例用“早班”，你后面可换成你自己的逻辑
    // 例如：从 monthData 找到今天的日期对应的 shift
    const d = new Date();
    const key = `${pad2(d.getMonth()+1)}-${pad2(d.getDate())}`;
    const todayItem = monthData.find(x => x.date === key);
    renderTodayPretty(todayItem?.shift || "-");

    renderBday();
  });
</script>
</body>
</html>
